Deployments:
  giropops-senhas:
    name: giropops-senhas-helm
    labels:
      app: giropops-senhas
      env: labs
    image:
      repository: linuxtips/giropops-senhas
      tag: latest
    replicas: 3
    ports:
      - port: 5000
    service:
      name: giropops-senhas-service
      type: ClusterIP
      port: 5000
      targetPort: 5000
    resources:
      limits:
        memory: "512Mi"
        cpu: "1000m"
      requests:
        memory: "256Mi"
        cpu: "500m"

  redis:
    name: giropops-senhas-redis-helm
    labels:
      app: giropops-redis
      env: labs
    image:
      repository: redis
      tag: latest
    replicas: 1
    ports:
      - port: 6379
    service:
      name: giropops-redis-service
      type: ClusterIP
      port: 6379
      targetPort: 6379
    resources:
      limits:
        memory: "512Mi"
        cpu: "1000m"
      requests:
        memory: "256Mi"
        cpu: "500m"

Services:
  giropops-senhas:
    ports:
      - port: 5000
        targetPort: 5000
        name: giropops-senhas-app
        serviceType: NodePort
        nodePort: 32500
      - port: 8088
        targetPort: 8088
        name: giropops-senhas-metrics
        serviceType: ClusterIP
    labels:
      app: giropops-senhas
      env: labs

  redis:
    ports:
      - port: 6379
        targetPort: 6379
        name: giropops-redis-app
        serviceType: ClusterIP
    labels:
      app: giropops-redis
      env: labs

Databases:
  giropops-senhas:
    mysql:
      host: mysql.svc.cluster.local
      port: 3306
      name: MyDB

Observability:
  giropops-senhas:
    logging: true
    metrics:
      enabled: true
      path: /metrics